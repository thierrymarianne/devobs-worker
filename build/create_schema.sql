CREATE SEQUENCE weaving_access_token_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE weaving_token_type_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE weaving_user_usr_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE weaving_whisperer_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE TABLE aggregate_subscription (id UUID NOT NULL, member_aggregate_subscription_id UUID DEFAULT NULL, subscription_id INT DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_80FCFB8B61EC46B6 ON aggregate_subscription (member_aggregate_subscription_id);
CREATE INDEX IDX_80FCFB8B9A1887DC ON aggregate_subscription (subscription_id);
CREATE UNIQUE INDEX aggregate_subscription_unique ON aggregate_subscription (member_aggregate_subscription_id, subscription_id);
CREATE TABLE archived_timely_status (id UUID NOT NULL, status_id INT DEFAULT NULL, aggregate_id INT DEFAULT NULL, publication_date_time TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, aggregate_name VARCHAR(100) NOT NULL, member_name VARCHAR(100) NOT NULL, time_range INT NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UNIQ_80FB72246BF700BD ON archived_timely_status (status_id);
CREATE INDEX IDX_80FB7224D0BBCCBE ON archived_timely_status (aggregate_id);
CREATE INDEX archived_publication_idx ON archived_timely_status (publication_date_time);
CREATE INDEX archived_status_idx ON archived_timely_status (status_id, publication_date_time, time_range, aggregate_id, aggregate_name);
CREATE INDEX archived_status_member_name ON archived_timely_status (member_name);
CREATE TABLE authentication_token (id UUID NOT NULL, member_id INT DEFAULT NULL, token TEXT NOT NULL, granted_routes TEXT NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX unique_member ON authentication_token (member_id);
CREATE TABLE highlight (id UUID NOT NULL, status_id INT DEFAULT NULL, member_id INT DEFAULT NULL, aggregate_id INT DEFAULT NULL, publication_date_time TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, is_retweet BOOLEAN NOT NULL, aggregate_name VARCHAR(100) DEFAULT NULL, retweeted_status_publication_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, total_retweets INT NOT NULL, total_favorites INT NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UNIQ_C998D8346BF700BD ON highlight (status_id);
CREATE INDEX IDX_C998D8347597D3FE ON highlight (member_id);
CREATE INDEX IDX_C998D834D0BBCCBE ON highlight (aggregate_id);
CREATE INDEX highlight_idx ON highlight (status_id, member_id, publication_date_time, total_retweets, total_favorites);
CREATE TABLE keyword (id UUID NOT NULL, status_id INT DEFAULT NULL, member_id INT DEFAULT NULL, aggregate_id INT DEFAULT NULL, aggregate_name VARCHAR(100) DEFAULT NULL, keyword VARCHAR(511) NOT NULL, publication_date_time TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, occurrences INT NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_5A93713B6BF700BD ON keyword (status_id);
CREATE INDEX IDX_5A93713B7597D3FE ON keyword (member_id);
CREATE INDEX IDX_5A93713BD0BBCCBE ON keyword (aggregate_id);
CREATE INDEX keyword_idx ON keyword (keyword, status_id, member_id, publication_date_time);
CREATE TABLE media (id UUID NOT NULL, member_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, source_id INT NOT NULL, type_id VARCHAR(255) NOT NULL, channel VARCHAR(255) DEFAULT NULL, periodicity VARCHAR(255) DEFAULT NULL, scope VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UNIQ_6A2CA10C953C1C61 ON media (source_id);
CREATE UNIQUE INDEX UNIQ_6A2CA10C7597D3FE ON media (member_id);
CREATE INDEX media_idx ON media (source_id, name, type_id);
CREATE TABLE media_owner (id UUID NOT NULL, source_id INT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UNIQ_D07922CD953C1C61 ON media_owner (source_id);
CREATE INDEX owner_idx ON media_owner (source_id, name);
CREATE TABLE media_ownership (id UUID NOT NULL, owner_id UUID DEFAULT NULL, media_id UUID DEFAULT NULL, shares NUMERIC(5, 2) DEFAULT NULL, ownership_level VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_3DF05F1A7E3C61F9 ON media_ownership (owner_id);
CREATE INDEX IDX_3DF05F1AEA9FDD75 ON media_ownership (media_id);
CREATE INDEX ownership_idx ON media_ownership (media_id, owner_id);
CREATE TABLE member_aggregate_subscription (id UUID NOT NULL, member_id INT DEFAULT NULL, list_name VARCHAR(255) NOT NULL, list_id VARCHAR(255) NOT NULL, document TEXT NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_9150051A7597D3FE ON member_aggregate_subscription (member_id);
CREATE INDEX member_aggregate_subscription_idx ON member_aggregate_subscription (id, member_id, list_id, list_name);
CREATE INDEX mas_id_name ON member_aggregate_subscription (list_name);
CREATE UNIQUE INDEX unique_aggregate_subscription ON member_aggregate_subscription (member_id, list_id);
CREATE TABLE member_followers_list_collected_event (id UUID NOT NULL, correlation_id UUID NOT NULL, screen_name VARCHAR(255) NOT NULL, at_cursor VARCHAR(255) NOT NULL, payload TEXT DEFAULT NULL, occurred_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, started_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ended_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX followers_list_occurrence_idx ON member_followers_list_collected_event (screen_name, at_cursor, occurred_at);
CREATE INDEX followers_list_correlation_idx ON member_followers_list_collected_event (screen_name, correlation_id);
CREATE TABLE member_friends_collected_event (id UUID NOT NULL, screen_name VARCHAR(255) NOT NULL, payload TEXT DEFAULT NULL, occurred_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, started_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ended_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX member_friends_occurrence_idx ON member_friends_collected_event (screen_name, occurred_at);
CREATE TABLE member_friends_list_collected_event (id UUID NOT NULL, correlation_id UUID NOT NULL, screen_name VARCHAR(255) NOT NULL, at_cursor VARCHAR(255) NOT NULL, payload TEXT DEFAULT NULL, occurred_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, started_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ended_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX friends_list_occurrence_idx ON member_friends_list_collected_event (screen_name, at_cursor, occurred_at);
CREATE INDEX friends_list_correlation_idx ON member_friends_list_collected_event (screen_name, correlation_id);
CREATE TABLE member_profile_collected_event (id UUID NOT NULL, screen_name VARCHAR(255) NOT NULL, payload TEXT DEFAULT NULL, occurred_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, started_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ended_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX member_profile_occurrence_idx ON member_profile_collected_event (screen_name, occurred_at);
CREATE TABLE member_subscribee (id UUID NOT NULL, member_id INT DEFAULT NULL, subscribee_id INT DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_C59DC0477597D3FE ON member_subscribee (member_id);
CREATE INDEX IDX_C59DC047B5C6DE8B ON member_subscribee (subscribee_id);
CREATE UNIQUE INDEX unique_subscribee ON member_subscribee (member_id, subscribee_id);
CREATE TABLE member_subscription (id UUID NOT NULL, member_id INT DEFAULT NULL, subscription_id INT DEFAULT NULL, has_been_cancelled BOOLEAN NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_D675FA5B7597D3FE ON member_subscription (member_id);
CREATE INDEX IDX_D675FA5B9A1887DC ON member_subscription (subscription_id);
CREATE UNIQUE INDEX member_subscription_unique ON member_subscription (member_id, subscription_id);
CREATE TABLE ownership_batch_collected_event (id UUID NOT NULL, correlation_id UUID NOT NULL, screen_name VARCHAR(255) NOT NULL, at_cursor VARCHAR(255) NOT NULL, payload TEXT DEFAULT NULL, occurred_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, started_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ended_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX ownership_batch_occurrence_idx ON ownership_batch_collected_event (screen_name, occurred_at);
CREATE TABLE publication (id UUID NOT NULL, legacy_id INT DEFAULT NULL, hash VARCHAR(64) NOT NULL, avatar_url VARCHAR(255) NOT NULL, screen_name VARCHAR(32) NOT NULL, text TEXT NOT NULL, document_id VARCHAR(255) NOT NULL, document TEXT NOT NULL, published_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE INDEX idx_publication ON publication (hash, screen_name, document_id, published_at);
CREATE INDEX idx_legacy ON publication (legacy_id, document_id, published_at);
CREATE UNIQUE INDEX publication_unique_hash ON publication (hash);
CREATE TABLE publication_batch_collected_event (id UUID NOT NULL, member_id INT DEFAULT NULL, payload TEXT DEFAULT NULL, occurred_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, started_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ended_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_6D0D05B27597D3FE ON publication_batch_collected_event (member_id);
CREATE INDEX publication_batch_occurrence_idx ON publication_batch_collected_event (member_id, occurred_at);
CREATE TABLE publishers_list (id SERIAL NOT NULL, name VARCHAR(255) NOT NULL, screen_name VARCHAR(255) DEFAULT NULL, locked BOOLEAN NOT NULL, locked_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, unlocked_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, list_id VARCHAR(255) DEFAULT NULL, public_id UUID NOT NULL, total_members INT DEFAULT 0 NOT NULL, total_statuses INT DEFAULT 0 NOT NULL, deleted_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE INDEX name ON publishers_list (name, screen_name);
CREATE TABLE publishers_list_collected_event (id UUID NOT NULL, list_id BIGINT NOT NULL, list_name VARCHAR(255) NOT NULL, payload TEXT DEFAULT NULL, occurred_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, started_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ended_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX publishers_list_occurrence_idx ON publishers_list_collected_event (list_id, occurred_at);
CREATE TABLE status_not_found (id UUID NOT NULL, status_id INT DEFAULT NULL, archived_status_id INT DEFAULT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UNIQ_80A51EBF6BF700BD ON status_not_found (status_id);
CREATE UNIQUE INDEX UNIQ_80A51EBFEFB3BB1D ON status_not_found (archived_status_id);
CREATE TABLE status_popularity (id UUID NOT NULL, status_id INT DEFAULT NULL, checked_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, total_retweets INT NOT NULL, total_favorites INT NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_BA94550F6BF700BD ON status_popularity (status_id);
CREATE INDEX status_popularity_idx ON status_popularity (status_id, checked_at, total_retweets, total_favorites);
CREATE TABLE timely_status (id UUID NOT NULL, status_id INT DEFAULT NULL, aggregate_id INT DEFAULT NULL, publication_date_time TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, aggregate_name VARCHAR(100) NOT NULL, member_name VARCHAR(100) NOT NULL, time_range INT NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_7A5BB7E86BF700BD ON timely_status (status_id);
CREATE INDEX IDX_7A5BB7E8D0BBCCBE ON timely_status (aggregate_id);
CREATE INDEX timely_publication_idx ON timely_status (publication_date_time);
CREATE INDEX timely_status_idx ON timely_status (status_id, publication_date_time, time_range, aggregate_id, aggregate_name);
CREATE INDEX timely_status_member_name ON timely_status (member_name);
CREATE TABLE weaving_access_token (id INT NOT NULL, type INT DEFAULT NULL, token VARCHAR(255) NOT NULL, secret VARCHAR(255) DEFAULT NULL, consumer_key VARCHAR(255) DEFAULT NULL, consumer_secret VARCHAR(255) DEFAULT NULL, frozen_until TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_FEA6740F8CDE5729 ON weaving_access_token (type);
CREATE TABLE weaving_archived_status (ust_id SERIAL NOT NULL, ust_hash VARCHAR(40) DEFAULT NULL, ust_full_name VARCHAR(32) NOT NULL, ust_name TEXT NOT NULL, ust_text TEXT NOT NULL, ust_avatar VARCHAR(255) NOT NULL, ust_access_token VARCHAR(255) NOT NULL, ust_status_id VARCHAR(255) DEFAULT NULL, ust_api_document TEXT DEFAULT NULL, ust_starred BOOLEAN DEFAULT 'false' NOT NULL, ust_indexed BOOLEAN DEFAULT 'false' NOT NULL, is_published BOOLEAN DEFAULT 'false' NOT NULL, ust_created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ust_updated_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(ust_id));
CREATE INDEX hash ON weaving_archived_status (ust_hash);
CREATE INDEX archived_status_screen_name ON weaving_archived_status (ust_full_name);
CREATE INDEX archived_status_id ON weaving_archived_status (ust_status_id);
CREATE INDEX archived_status_created_at ON weaving_archived_status (ust_created_at);
CREATE INDEX archived_status_published ON weaving_archived_status (is_published);
CREATE UNIQUE INDEX archived_status_unique_hash ON weaving_archived_status (ust_hash, ust_access_token, ust_full_name);
CREATE TABLE weaving_archived_status_aggregate (status_id INT NOT NULL, aggregate_id INT NOT NULL, PRIMARY KEY(status_id, aggregate_id));
CREATE INDEX IDX_6C6940DA6BF700BD ON weaving_archived_status_aggregate (status_id);
CREATE INDEX IDX_6C6940DAD0BBCCBE ON weaving_archived_status_aggregate (aggregate_id);
CREATE TABLE weaving_status (ust_id SERIAL NOT NULL, ust_hash VARCHAR(40) DEFAULT NULL, ust_full_name VARCHAR(32) NOT NULL, ust_name TEXT NOT NULL, ust_text TEXT NOT NULL, ust_avatar VARCHAR(255) NOT NULL, ust_access_token VARCHAR(255) NOT NULL, ust_status_id VARCHAR(255) DEFAULT NULL, ust_api_document TEXT DEFAULT NULL, ust_starred BOOLEAN DEFAULT 'false' NOT NULL, ust_indexed BOOLEAN DEFAULT 'false' NOT NULL, is_published BOOLEAN DEFAULT 'false' NOT NULL, ust_created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, ust_updated_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(ust_id));
CREATE INDEX status_screen_name ON weaving_status (ust_full_name);
CREATE INDEX status_id ON weaving_status (ust_status_id);
CREATE INDEX indexed ON weaving_status (ust_indexed);
CREATE INDEX ust_created_at ON weaving_status (ust_created_at);
CREATE INDEX idx_published ON weaving_status (is_published);
CREATE UNIQUE INDEX status_unique_hash ON weaving_status (ust_hash);
CREATE TABLE weaving_status_aggregate (status_id INT NOT NULL, aggregate_id INT NOT NULL, PRIMARY KEY(status_id, aggregate_id));
CREATE INDEX IDX_53DF6C4D6BF700BD ON weaving_status_aggregate (status_id);
CREATE INDEX IDX_53DF6C4DD0BBCCBE ON weaving_status_aggregate (aggregate_id);
CREATE TABLE weaving_token_type (id INT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE weaving_user (usr_id INT NOT NULL, usr_api_key VARCHAR(255) DEFAULT NULL, max_status_id VARCHAR(255) DEFAULT NULL, min_status_id VARCHAR(255) DEFAULT NULL, max_like_id VARCHAR(255) DEFAULT NULL, min_like_id VARCHAR(255) DEFAULT NULL, total_statuses INT DEFAULT 0 NOT NULL, total_likes INT DEFAULT 0 NOT NULL, description TEXT DEFAULT NULL, url TEXT DEFAULT NULL, last_status_publication_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, total_subscribees INT DEFAULT 0 NOT NULL, total_subscriptions INT DEFAULT 0 NOT NULL, usr_twitter_id VARCHAR(255) DEFAULT NULL, usr_twitter_username VARCHAR(255) DEFAULT NULL, usr_avatar VARCHAR(255) DEFAULT NULL, usr_full_name VARCHAR(255) DEFAULT NULL, usr_status BOOLEAN NOT NULL, usr_user_name VARCHAR(255) DEFAULT NULL, usr_username_canonical VARCHAR(255) DEFAULT NULL, usr_email VARCHAR(255) NOT NULL, usr_email_canonical VARCHAR(255) DEFAULT NULL, protected BOOLEAN DEFAULT 'false', suspended BOOLEAN DEFAULT 'false' NOT NULL, not_found BOOLEAN DEFAULT 'false' NOT NULL, usr_position_in_hierarchy INT NOT NULL, PRIMARY KEY(usr_id));
CREATE INDEX membership ON weaving_user (usr_id, usr_twitter_id, usr_twitter_username, not_found, protected, suspended, total_subscribees, total_subscriptions);
CREATE UNIQUE INDEX unique_twitter_id ON weaving_user (usr_twitter_id);
CREATE TABLE weaving_user_token (user_id INT NOT NULL, token_id INT NOT NULL, PRIMARY KEY(user_id, token_id));
CREATE INDEX IDX_44F4C05CA76ED395 ON weaving_user_token (user_id);
CREATE INDEX IDX_44F4C05C41DEE7B9 ON weaving_user_token (token_id);
CREATE TABLE weaving_whisperer (id INT NOT NULL, name VARCHAR(255) NOT NULL, whispers INT DEFAULT 0 NOT NULL, previous_whispers INT DEFAULT 0 NOT NULL, expected_whispers INT DEFAULT 0 NOT NULL, updated_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX unique_name ON weaving_whisperer (name);
ALTER TABLE aggregate_subscription ADD CONSTRAINT FK_80FCFB8B61EC46B6 FOREIGN KEY (member_aggregate_subscription_id) REFERENCES member_aggregate_subscription (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aggregate_subscription ADD CONSTRAINT FK_80FCFB8B9A1887DC FOREIGN KEY (subscription_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE archived_timely_status ADD CONSTRAINT FK_80FB72246BF700BD FOREIGN KEY (status_id) REFERENCES weaving_archived_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE archived_timely_status ADD CONSTRAINT FK_80FB7224D0BBCCBE FOREIGN KEY (aggregate_id) REFERENCES publishers_list (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE authentication_token ADD CONSTRAINT FK_B54C4ADD7597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE highlight ADD CONSTRAINT FK_C998D8346BF700BD FOREIGN KEY (status_id) REFERENCES weaving_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE highlight ADD CONSTRAINT FK_C998D8347597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE highlight ADD CONSTRAINT FK_C998D834D0BBCCBE FOREIGN KEY (aggregate_id) REFERENCES publishers_list (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE keyword ADD CONSTRAINT FK_5A93713B6BF700BD FOREIGN KEY (status_id) REFERENCES weaving_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE keyword ADD CONSTRAINT FK_5A93713B7597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE keyword ADD CONSTRAINT FK_5A93713BD0BBCCBE FOREIGN KEY (aggregate_id) REFERENCES publishers_list (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE media ADD CONSTRAINT FK_6A2CA10C7597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE media_ownership ADD CONSTRAINT FK_3DF05F1A7E3C61F9 FOREIGN KEY (owner_id) REFERENCES media_owner (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE media_ownership ADD CONSTRAINT FK_3DF05F1AEA9FDD75 FOREIGN KEY (media_id) REFERENCES media (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE member_aggregate_subscription ADD CONSTRAINT FK_9150051A7597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE member_subscribee ADD CONSTRAINT FK_C59DC0477597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE member_subscribee ADD CONSTRAINT FK_C59DC047B5C6DE8B FOREIGN KEY (subscribee_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE member_subscription ADD CONSTRAINT FK_D675FA5B7597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE member_subscription ADD CONSTRAINT FK_D675FA5B9A1887DC FOREIGN KEY (subscription_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE publication_batch_collected_event ADD CONSTRAINT FK_6D0D05B27597D3FE FOREIGN KEY (member_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE status_not_found ADD CONSTRAINT FK_80A51EBF6BF700BD FOREIGN KEY (status_id) REFERENCES weaving_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE status_not_found ADD CONSTRAINT FK_80A51EBFEFB3BB1D FOREIGN KEY (archived_status_id) REFERENCES weaving_archived_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE status_popularity ADD CONSTRAINT FK_BA94550F6BF700BD FOREIGN KEY (status_id) REFERENCES weaving_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE timely_status ADD CONSTRAINT FK_7A5BB7E86BF700BD FOREIGN KEY (status_id) REFERENCES weaving_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE timely_status ADD CONSTRAINT FK_7A5BB7E8D0BBCCBE FOREIGN KEY (aggregate_id) REFERENCES publishers_list (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE weaving_access_token ADD CONSTRAINT FK_FEA6740F8CDE5729 FOREIGN KEY (type) REFERENCES weaving_token_type (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE weaving_archived_status_aggregate ADD CONSTRAINT FK_6C6940DA6BF700BD FOREIGN KEY (status_id) REFERENCES weaving_archived_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE weaving_archived_status_aggregate ADD CONSTRAINT FK_6C6940DAD0BBCCBE FOREIGN KEY (aggregate_id) REFERENCES publishers_list (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE weaving_status_aggregate ADD CONSTRAINT FK_53DF6C4D6BF700BD FOREIGN KEY (status_id) REFERENCES weaving_status (ust_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE weaving_status_aggregate ADD CONSTRAINT FK_53DF6C4DD0BBCCBE FOREIGN KEY (aggregate_id) REFERENCES publishers_list (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE weaving_user_token ADD CONSTRAINT FK_44F4C05CA76ED395 FOREIGN KEY (user_id) REFERENCES weaving_user (usr_id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE weaving_user_token ADD CONSTRAINT FK_44F4C05C41DEE7B9 FOREIGN KEY (token_id) REFERENCES weaving_access_token (id) NOT DEFERRABLE INITIALLY IMMEDIATE;